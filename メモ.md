localName = localName.substring(0, plusIndex);や<br>
localName = localName.replace(".", "");の行では、

元の文字列は変更されず、**新しい文字列オブジェクトが作成されています。**


JavaのStringクラスは不変(immutable)なので、一度作成された文字列オブジェクトの内容は変更できません。そのため、substring()やreplace()などのメソッドは常に新しい文字列オブジェクトを返します。

元の文字列オブジェクトは、このコード実行後には参照されなくなるため、ガベージコレクションの対象になります。これはメモリ効率の観点では確かに「無駄」と言えますが、Javaの文字列設計の基本的な部分です。

多くの文字列操作が必要な場合は、StringBuilderやStringBufferのような可変の文字列クラスを使用することで、このような中間オブジェクトの生成を減らすことができます。


内部的な比較メカニズム：

はい、HashSetは内部的にequals()メソッドを使って値を比較します
Stringクラスはequals()メソッドをオーバーライドしており、参照の比較ではなく文字列の内容（値）を比較します
また、HashSetはまずhashCode()メソッドを使ってハッシュ値を比較し、同じハッシュ値を持つオブジェクト間でのみequals()による比較を行います
**これは内部的に値の比較が行われているためです**


equals() 値の比較

↑hashCodeメソッドを常にオーバーライドして、「等価なオブジェクトは等価なハッシュ・コードを保持する必要がある」というhashCodeメソッドの汎用規約に従う必要があることに留意してください。
